{"version":3,"file":"sdk.esm.js","sources":["../src/components/BaseQRCode.tsx","../src/types.ts","../src/components/Button.tsx","../src/components/ButtonGroup.tsx","../src/hooks/useAnimatedQRCodePlayer.tsx","../src/error.ts","../src/components/LoadingSpinner.tsx","../src/hooks/useAnimatedQRCodeReader.tsx","../src/components/InitialPage.tsx","../src/hooks/useController.tsx","../src/Root.tsx","../src/service.ts"],"sourcesContent":["import React from \"react\";\nimport QRCode from \"qrcode.react\";\n\nexport const BaseQRCode = ({\n  size = 200,\n  data = \"\",\n  ecl = \"L\",\n}: {\n  data: string;\n  size?: number;\n  ecl?: \"L\" | \"M\" | \"Q\" | \"H\";\n}) => {\n  return <QRCode value={data} size={size} level={ecl} />;\n};\n","import { UR } from \"@ngraveio/bc-ur\";\n\ntype DecodedSuccess = {\n  result: UR;\n  status: ReadStatus.success;\n};\n\ntype DecodedCanceled = {\n  status: ReadStatus.canceled;\n};\n\nexport type DecodedResult = DecodedSuccess | DecodedCanceled;\n\nexport enum ReadStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport enum PlayStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport type Play = (\n  data: UR,\n  options?: {\n    refreshSpeed?: number;\n    hasNext?: boolean;\n    title?: string;\n    description?: string;\n    maxFragmentLength? : number;\n  }\n) => Promise<PlayStatus>;\n\nexport type Read = (\n  expect: SupportedResult[],\n  options?: {\n    title?: string;\n    description?: string;\n    renderInitial?: {\n      walletMode: string;\n      link: string;\n    };\n    URTypeErrorMessage?: string;\n  }\n) => Promise<DecodedResult>;\n\nexport enum SupportedResult {\n  UR_BYTES = \"bytes\",\n  UR_CRYPTO_HDKEY = \"crypto-hdkey\",\n  UR_CRYPTO_ACCOUNT = \"crypto-account\",\n  UR_ETH_SIGN_REQUEST = \"eth-sign-request\",\n  UR_ETH_SIGNATURE = \"eth-signature\",\n  UR_CRYPTO_MULTI_ACCOUNTS = \"crypto-multi-accounts\",\n  UR_SOL_SIGN_REQUEST = \"sol-sign-request\",\n  UR_SOL_SIGNATURE = \"sol-signature\",\n}\n","import React, { FunctionComponent } from \"react\";\n\ntype Props = {\n  onClick: () => any;\n};\n\nconst styleBase = {\n  minWidth: \"16rem\",\n  height: \"3rem\",\n  background: \"#784FFE\",\n  borderColor: \"grey\",\n  borderRadius: \"8px\",\n  borderWidth: 1,\n  color: \"white\",\n  outline: \"none\",\n  margin: 2,\n};\n\nexport const Button: FunctionComponent<Props> = (props) => {\n  const { onClick, children } = props;\n  return (\n    <button onClick={onClick} style={styleBase}>\n      {children}\n    </button>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\n\nexport const ButtonGroup: FunctionComponent = (props) => {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        marginTop: \"1rem\",\n        display: \"flex\",\n        flexDirection: \"row-reverse\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      {props.children}\n    </div>\n  );\n};\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { interval } from \"rxjs\";\nimport { BaseQRCode } from \"../components/BaseQRCode\";\nimport { Play, PlayStatus } from \"../types\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { UR, UREncoder } from \"@ngraveio/bc-ur\";\n\nconst DEFAULT_SPEED = 100;\n\nconst DEFAULT_MAX_FRAGMENT_LENGTH = 400;\n\nconst DEFAULT_UR = new UR(Buffer.from(\"NO DATA\", \"utf-8\"));\n\nexport const useAnimatedQRCodePlayer = (): [JSX.Element, { play: Play }] => {\n  const [data, setData] = useState<UR>(DEFAULT_UR);\n  const [shouldShow, setShouldShow] = useState(false);\n\n  const [refreshSpeed, setRefreshSpeed] = useState(DEFAULT_SPEED);\n  const [maxFragmentLength, setMaxFragmentLength] = useState(DEFAULT_MAX_FRAGMENT_LENGTH)\n  const [hasNext, setHasNext] = useState(false);\n  const [title, setTitle] = useState<string | null>(null);\n  const [description, setDescription] = useState<string | null>(null);\n\n  const urEncoder = useMemo(() => new UREncoder(data, maxFragmentLength), [data]);\n\n  const [qr, setQR] = useState<string>(urEncoder.nextPart());\n\n  const ee = useMemo(() => new EventEmitter(), []);\n  const reset = () => {\n    setData(DEFAULT_UR);\n    setShouldShow(false);\n    setRefreshSpeed(DEFAULT_SPEED);\n  };\n\n  useEffect(() => {\n    if (urEncoder.cbor.toString(\"hex\") !== DEFAULT_UR.cbor.toString(\"hex\")) {\n      setShouldShow(true);\n    }\n  }, [urEncoder]);\n\n  useEffect(() => {\n    const subscribe = interval(refreshSpeed).subscribe(() => {\n      setQR(urEncoder.nextPart());\n    });\n    return () => {\n      subscribe.unsubscribe();\n    };\n  }, [refreshSpeed, urEncoder]);\n\n  const finish = () => {\n    ee.emit(\"finish\", true);\n  };\n\n  const element = shouldShow ? (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      <BaseQRCode size={288} data={qr} />\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <ButtonGroup>\n        <Button onClick={finish}>{hasNext ? \"Scan Keystone\" : \"Finish\"}</Button>\n      </ButtonGroup>\n    </div>\n  ) : (\n    <div></div>\n  );\n\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise((resolve) => {\n          setData(data);\n          if (options) {\n            options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n            options.hasNext && setHasNext(options.hasNext);\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            options.maxFragmentLength && setMaxFragmentLength(options.maxFragmentLength)\n          }\n          ee.once(\"finish\", () => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n    },\n  ];\n};\n","export class URTypeError extends Error {\n  constructor(msg: string) {\n    super(msg);\n\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, URTypeError.prototype);\n  }\n}\n","import React from \"react\";\n\nexport const LoadingSpinner = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{\n        margin: \"auto\",\n        display: \"block\",\n        shapeRendering: \"auto\",\n        animationPlayState: \"running\",\n        animationDelay: \"0s\",\n      }}\n      width=\"200px\"\n      height=\"200px\"\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"xMidYMid\"\n    >\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        fill=\"none\"\n        stroke=\"#9b9b9b\"\n        strokeWidth=\"7\"\n        r=\"35\"\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\n        style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n      >\n        <animateTransform\n          attributeName=\"transform\"\n          type=\"rotate\"\n          repeatCount=\"indefinite\"\n          dur=\"1s\"\n          values=\"0 50 50;360 50 50\"\n          keyTimes=\"0;1\"\n          style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n        ></animateTransform>\n      </circle>\n    </svg>\n  );\n};\n","import React, { useMemo, useState, Suspense } from \"react\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { URTypeError } from \"../error\";\n\nimport { Read, SupportedResult } from \"../types\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { URDecoder } from \"@ngraveio/bc-ur\";\n\nconst QrReader = React.lazy(() => import(\"react-qr-reader\"));\n\nexport interface URQRCodeData {\n  total: number;\n  index: number;\n  data: string;\n}\n\nlet URTypeErrorMessage = \"\";\n\nexport const useAnimatedQRCodeReader = (): [\n  JSX.Element,\n  { read: Read; cameraReady: boolean }\n] => {\n  const [cameraReady, setCameraReady] = useState<boolean>(false);\n  const [expectTypes, setExpectTypes] = useState<SupportedResult[]>([]);\n  const [urDecoder, setURDecoder] = useState(new URDecoder());\n  const [error, setError] = useState(\"\");\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [title, setTitle] = useState<string | null>(null);\n  const [progress, setProgress] = useState(0);\n  const [description, setDescription] = useState<string | null>(null);\n  const reset = () => {\n    setURDecoder(new URDecoder());\n    setError(\"\");\n  };\n\n  const processQRCode = (qr: string, errorMessgeOnURType: string) => {\n    processUR(qr, errorMessgeOnURType);\n  };\n\n  const handleStop = () => {\n    ee.emit(\"read\", {\n      status: \"canceled\",\n    });\n  };\n\n  const handleRetry = () => {\n    reset();\n  };\n\n  const processUR = (ur: string, errorMessgeOnURType: string) => {\n    try {\n      if (!urDecoder.isComplete()) {\n        urDecoder.receivePart(ur);\n        setProgress(urDecoder.getProgress());\n      } else {\n        const result = urDecoder.resultUR();\n        let foundExpected = false;\n        expectTypes.forEach((et) => {\n          if (et === result.type) {\n            foundExpected = true;\n            ee.emit(\"read\", {\n              result,\n              status: \"success\",\n            });\n            return;\n          }\n        });\n        if (!foundExpected)\n          throw new URTypeError(\n            `received ur type ${result.type}, but expected [${expectTypes.join(\n              \",\"\n            )}]`\n          );\n      }\n    } catch (e) {\n      if (e instanceof URTypeError) {\n        setError(errorMessgeOnURType);\n      } else {\n        setError((e as Error).message);\n      }\n    }\n  };\n\n  const element = (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <Suspense fallback={<div />}>\n        <div style={{ position: \"relative\", width: \"100%\" }}>\n          {!cameraReady ? (\n            <div\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n              }}\n            >\n              <LoadingSpinner />\n            </div>\n          ) : null}\n          <QrReader\n            onScan={(data: any) => {\n              if (data) {\n                setCameraReady(true);\n                processQRCode(data, URTypeErrorMessage);\n              }\n            }}\n            delay={100}\n            style={{ width: \"100%\" }}\n            onError={(e) => {\n              setError(e.message);\n            }}\n          />\n        </div>\n      </Suspense>\n      <p>{(progress * 100).toFixed(0)} %</p>\n      {error && <p style={{ color: \"red\", fontSize: \"1rem\" }}>{error}</p>}\n      <ButtonGroup>\n        <Button onClick={handleStop}>Close</Button>\n        {error && <Button onClick={handleRetry}>Retry</Button>}\n      </ButtonGroup>\n    </div>\n  );\n\n  return [\n    element,\n    {\n      read: (expect, options) => {\n        return new Promise((resolve) => {\n          setExpectTypes(expect);\n          if (options) {\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            URTypeErrorMessage = options.URTypeErrorMessage\n              ? options.URTypeErrorMessage\n              : \"\";\n          }\n          ee.once(\"read\", (result) => {\n            reset();\n            resolve(result);\n          });\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import React from \"react\";\nimport { Button } from \"./Button\";\n\nexport const InitialPage = (props: {\n  walletMode: string;\n  link: string;\n  onButtonClick: () => void;\n}) => {\n  return (\n    <div style={{ paddingLeft: \"1rem\" }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", padding: 0 }}>\n        <img\n          style={{ display: \"inline-block\" }}\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\"\n          alt=\"\"\n        />\n        <div\n          style={{\n            fontSize: \"1.25rem\",\n            fontWeight: \"bold\",\n            marginLeft: \"1rem\",\n          }}\n        >\n          Sync Keystone\n        </div>\n      </div>\n      <ul\n        style={{\n          marginTop: \"2rem\",\n          listStyleType: \"none\",\n          padding: 0,\n          fontSize: \"1rem\",\n        }}\n      >\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          1. Turn on your Keystone hardware device\n        </li>\n        <li\n          style={{ marginBottom: \"0.75rem\" }}\n        >{`2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`}</li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          3. Press the \"Scan Keystone\" button and scan the QR Code displayed on\n          your Keystone hardware wallet\n        </li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          4. Select account and check your watch-only wallet\n        </li>\n      </ul>\n      <div style={{ marginBottom: \"1rem\" }}>\n        <a\n          style={{\n            marginTop: \"1.25rem\",\n            color: \"#784FFE\",\n            textDecoration: \"none\",\n          }}\n          href={props.link}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Click here to view detailed tutorial\n        </a>\n      </div>\n      <Button onClick={props.onButtonClick}>Sync Keystone</Button>\n    </div>\n  );\n};\n","import React, { useMemo, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { EventEmitter } from \"events\";\nimport { useAnimatedQRCodePlayer } from \"./useAnimatedQRCodePlayer\";\nimport { useAnimatedQRCodeReader } from \"./useAnimatedQRCodeReader\";\nimport { Play, PlayStatus, Read, ReadStatus } from \"../types\";\nimport { InitialPage } from \"../components/InitialPage\";\n\nconst customStyles = {\n  overlay: {\n    zIndex: 999,\n  },\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    borderRadius: \"10px\",\n    width: \"37rem\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    postion: \"relative\",\n  },\n};\n\nexport const useController = (): [\n  JSX.Element,\n  {\n    play: Play;\n    read: Read;\n    cameraReady: boolean;\n  }\n] => {\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [visible, setVisible] = useState(false);\n  const [walletMode, setWalltMode] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [mode, setMode] = useState<\"read\" | \"play\" | \"initial\" | null>(null);\n  const [AnimatedQRCodePlayer, { play }] = useAnimatedQRCodePlayer();\n  const [AnimatedQRCodeReader, { read, cameraReady }] =\n    useAnimatedQRCodeReader();\n  const close = () => {\n    ee.emit(\"close\");\n    reset();\n  };\n\n  const reset = () => {\n    setMode(null);\n    setLink(\"\");\n    setWalltMode(\"\");\n    setVisible(false);\n  };\n\n  const goToRead = () => {\n    setMode(\"read\");\n  };\n\n  const renderPannel = (pageMode: string) => {\n    if (pageMode === \"initial\") {\n      return (\n        <InitialPage\n          walletMode={walletMode}\n          link={link}\n          onButtonClick={goToRead}\n        />\n      );\n    } else if (pageMode === \"read\") {\n      return AnimatedQRCodeReader;\n    } else if (pageMode === \"play\") {\n      return AnimatedQRCodePlayer;\n    } else {\n      return null;\n    }\n  };\n\n  const element = (\n    <Modal isOpen={visible} style={customStyles}>\n      <div onClick={close}>\n        <img\n          style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n        />\n      </div>\n      <div\n        style={{\n          width: \"35rem\",\n          padding: 18,\n          flex: 1,\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#002237\",\n        }}\n      >\n        {renderPannel(mode)}\n      </div>\n    </Modal>\n  );\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise<PlayStatus>((resolve) => {\n          ee.once(\"close\", () => {\n            resolve(PlayStatus.canceled);\n          });\n          setVisible(true);\n          setMode(\"play\");\n          play(data, options).then(() => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n      read: async (expect, options) => {\n        return new Promise((resolve) => {\n          ee.once(\"close\", () => {\n            reset();\n            resolve({\n              status: ReadStatus.canceled,\n            });\n          });\n          if (options.renderInitial) {\n            setWalltMode(options.renderInitial.walletMode);\n            setLink(options.renderInitial.link);\n            setMode(\"initial\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          } else {\n            setMode(\"read\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          }\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import { setupSdk } from \"./service\";\nimport { useController } from \"./hooks/useController\";\n\nexport default () => {\n  const [Controller, { read, play, cameraReady }] = useController();\n  setupSdk(read, play, cameraReady);\n  return Controller;\n};\n","import ReactDOM from \"react-dom\";\nimport Root from \"./Root\";\nimport React from \"react\";\nimport { Play, Read } from \"./types\";\nimport Modal from \"react-modal\";\n\nlet initialized = false;\nlet read: Read;\nlet play: Play;\nlet cameraReady: boolean;\n\nconst bootstrap = (): void => {\n  const htmlBody = document\n    .getElementsByTagName(\"body\")\n    .item(0) as HTMLBodyElement;\n  const sdkDiv = document.createElement(\"div\");\n  sdkDiv.id = \"kv_sdk_container\";\n  htmlBody.appendChild(sdkDiv);\n  Modal.setAppElement(\"#kv_sdk_container\");\n  ReactDOM.render(React.createElement(Root), sdkDiv);\n};\n\nexport const setupSdk = (r: Read, p: Play, status: boolean) => {\n  initialized = true;\n  read = r;\n  play = p;\n  cameraReady = status;\n};\n\nconst sdk = {\n  bootstrap,\n  getSdk: () => {\n    if (initialized) {\n      return {\n        read,\n        play,\n        cameraReady,\n      };\n    } else {\n      throw new Error(\"SDK is not initialized\");\n    }\n  },\n};\n\nexport default sdk;\n"],"names":["BaseQRCode","size","data","ecl","React","QRCode","value","level","ReadStatus","PlayStatus","SupportedResult","styleBase","minWidth","height","background","borderColor","borderRadius","borderWidth","color","outline","margin","Button","props","onClick","children","style","ButtonGroup","width","marginTop","display","flexDirection","alignItems","justifyContent","DEFAULT_SPEED","DEFAULT_MAX_FRAGMENT_LENGTH","DEFAULT_UR","UR","Buffer","from","useAnimatedQRCodePlayer","setData","useState","shouldShow","setShouldShow","refreshSpeed","setRefreshSpeed","maxFragmentLength","setMaxFragmentLength","hasNext","setHasNext","title","setTitle","description","setDescription","urEncoder","useMemo","UREncoder","qr","setQR","nextPart","ee","EventEmitter","reset","useEffect","cbor","toString","subscribe","interval","unsubscribe","finish","emit","element","fontSize","fontWeight","textAlign","play","options","Promise","resolve","once","success","URTypeError","Error","constructor","msg","Object","setPrototypeOf","prototype","LoadingSpinner","xmlns","shapeRendering","animationPlayState","animationDelay","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","QrReader","lazy","URTypeErrorMessage","useAnimatedQRCodeReader","cameraReady","setCameraReady","expectTypes","setExpectTypes","urDecoder","setURDecoder","URDecoder","error","setError","progress","setProgress","processQRCode","errorMessgeOnURType","processUR","handleStop","status","handleRetry","ur","isComplete","receivePart","getProgress","result","resultUR","foundExpected","forEach","et","join","e","message","Suspense","fallback","position","top","left","transform","onScan","delay","onError","toFixed","read","expect","InitialPage","paddingLeft","padding","src","alt","marginLeft","listStyleType","marginBottom","walletMode","textDecoration","href","link","target","rel","onButtonClick","customStyles","overlay","zIndex","content","right","bottom","marginRight","postion","useController","visible","setVisible","setWalltMode","setLink","mode","setMode","AnimatedQRCodePlayer","AnimatedQRCodeReader","close","goToRead","renderPannel","pageMode","Modal","isOpen","flex","canceled","then","renderInitial","Controller","setupSdk","initialized","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","createElement","id","appendChild","setAppElement","ReactDOM","render","Root","p","sdk","getSdk"],"mappings":"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"}