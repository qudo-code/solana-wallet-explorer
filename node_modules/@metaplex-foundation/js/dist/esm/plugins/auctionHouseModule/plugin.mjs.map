{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper } from '@metaplex-foundation/mpl-auction-house';\nimport type { Metaplex } from '@/Metaplex';\nimport type { ErrorWithLogs, MetaplexPlugin } from '@/types';\nimport { AuctionsClient } from './AuctionsClient';\nimport { AuctionHouseProgram } from './program';\nimport { cancelBidOperation, cancelBidOperationHandler } from './cancelBid';\nimport {\n  cancelListingOperation,\n  cancelListingOperationHandler,\n} from './cancelListing';\nimport {\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n} from './createAuctionHouse';\nimport { createBidOperation, createBidOperationHandler } from './createBid';\nimport {\n  createListingOperation,\n  createListingOperationHandler,\n} from './createListing';\nimport {\n  executeSaleOperation,\n  executeSaleOperationHandler,\n} from './executeSale';\nimport {\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n} from './findAuctionHouseByAddress';\nimport {\n  findBidByReceiptOperation,\n  findBidByReceiptOperationHandler,\n} from './findBidByReceipt';\nimport {\n  findBidByTradeStateOperation,\n  findBidByTradeStateOperationHandler,\n} from './findBidByTradeState';\nimport {\n  findListingByAddressOperation,\n  findListingByAddressOperationHandler,\n} from './findListingByAddress';\nimport {\n  findPurchaseByAddressOperation,\n  findPurchaseByAddressOperationHandler,\n} from './findPurchaseByAddress';\nimport {\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n} from './updateAuctionHouse';\nimport { loadBidOperation, loadBidOperationHandler } from './loadBid';\nimport {\n  loadListingOperation,\n  loadListingOperationHandler,\n} from './loadListing';\nimport {\n  loadPurchaseOperation,\n  loadPurchaseOperationHandler,\n} from './loadPurchase';\n\n/** @group Plugins */\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    metaplex.programs().register({\n      name: 'AuctionHouseProgram',\n      address: AuctionHouseProgram.publicKey,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    });\n\n    const op = metaplex.operations();\n    op.register(cancelBidOperation, cancelBidOperationHandler);\n    op.register(cancelListingOperation, cancelListingOperationHandler);\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createBidOperation, createBidOperationHandler);\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(executeSaleOperation, executeSaleOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(findBidByReceiptOperation, findBidByReceiptOperationHandler);\n    op.register(\n      findBidByTradeStateOperation,\n      findBidByTradeStateOperationHandler\n    );\n    op.register(\n      findListingByAddressOperation,\n      findListingByAddressOperationHandler\n    );\n    op.register(\n      findPurchaseByAddressOperation,\n      findPurchaseByAddressOperationHandler\n    );\n    op.register(loadBidOperation, loadBidOperationHandler);\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(loadPurchaseOperation, loadPurchaseOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n\n    metaplex.auctions = function () {\n      return new AuctionsClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctions(): AuctionsClient;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","programs","register","name","address","AuctionHouseProgram","publicKey","errorResolver","error","cusper","errorFromProgramLogs","logs","op","operations","cancelBidOperation","cancelBidOperationHandler","cancelListingOperation","cancelListingOperationHandler","createAuctionHouseOperation","createAuctionHouseOperationHandler","createBidOperation","createBidOperationHandler","createListingOperation","createListingOperationHandler","executeSaleOperation","executeSaleOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findBidByReceiptOperation","findBidByReceiptOperationHandler","findBidByTradeStateOperation","findBidByTradeStateOperationHandler","findListingByAddressOperation","findListingByAddressOperationHandler","findPurchaseByAddressOperation","findPurchaseByAddressOperationHandler","loadBidOperation","loadBidOperationHandler","loadListingOperation","loadListingOperationHandler","loadPurchaseOperation","loadPurchaseOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","auctions","AuctionsClient"],"mappings":";;;;;;;;;;;;;;;;;;;AAyDA;;AACO,MAAMA,kBAAkB,GAAG,OAAuB;EACvDC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,qBADqB;MAE3BC,OAAO,EAAEC,mBAAmB,CAACC,SAFF;MAG3BC,aAAa,EAAGC,KAAD,IACbC,MAAM,CAACC,oBAAP,CAA4BF,KAAK,CAACG,IAAlC,EAAwC,KAAxC,CAAA;KAJJ,CAAA,CAAA;AAOA,IAAA,MAAMC,EAAE,GAAGZ,QAAQ,CAACa,UAAT,EAAX,CAAA;AACAD,IAAAA,EAAE,CAACV,QAAH,CAAYY,kBAAZ,EAAgCC,yBAAhC,CAAA,CAAA;AACAH,IAAAA,EAAE,CAACV,QAAH,CAAYc,sBAAZ,EAAoCC,6BAApC,CAAA,CAAA;AACAL,IAAAA,EAAE,CAACV,QAAH,CACEgB,2BADF,EAEEC,kCAFF,CAAA,CAAA;AAIAP,IAAAA,EAAE,CAACV,QAAH,CAAYkB,kBAAZ,EAAgCC,yBAAhC,CAAA,CAAA;AACAT,IAAAA,EAAE,CAACV,QAAH,CAAYoB,sBAAZ,EAAoCC,6BAApC,CAAA,CAAA;AACAX,IAAAA,EAAE,CAACV,QAAH,CAAYsB,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACAb,IAAAA,EAAE,CAACV,QAAH,CACEwB,kCADF,EAEEC,yCAFF,CAAA,CAAA;AAIAf,IAAAA,EAAE,CAACV,QAAH,CAAY0B,yBAAZ,EAAuCC,gCAAvC,CAAA,CAAA;AACAjB,IAAAA,EAAE,CAACV,QAAH,CACE4B,4BADF,EAEEC,mCAFF,CAAA,CAAA;AAIAnB,IAAAA,EAAE,CAACV,QAAH,CACE8B,6BADF,EAEEC,oCAFF,CAAA,CAAA;AAIArB,IAAAA,EAAE,CAACV,QAAH,CACEgC,8BADF,EAEEC,qCAFF,CAAA,CAAA;AAIAvB,IAAAA,EAAE,CAACV,QAAH,CAAYkC,gBAAZ,EAA8BC,uBAA9B,CAAA,CAAA;AACAzB,IAAAA,EAAE,CAACV,QAAH,CAAYoC,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACA3B,IAAAA,EAAE,CAACV,QAAH,CAAYsC,qBAAZ,EAAmCC,4BAAnC,CAAA,CAAA;AACA7B,IAAAA,EAAE,CAACV,QAAH,CACEwC,2BADF,EAEEC,kCAFF,CAAA,CAAA;;IAKA3C,QAAQ,CAAC4C,QAAT,GAAoB,YAAY;AAC9B,MAAA,OAAO,IAAIC,cAAJ,CAAmB,IAAnB,CAAP,CAAA;KADF,CAAA;AAGD,GAAA;;AAhDsD,CAAvB;;;;"}