{"version":3,"file":"pdas.mjs","sources":["../../../../src/plugins/nftModule/pdas.ts"],"sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { Buffer } from 'buffer';\nimport { BigNumber, Pda, toBigNumber } from '@/types';\nimport { TokenMetadataProgram } from './program';\n\n/** @group Pdas */\nexport const findMetadataPda = (\n  mint: PublicKey,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n  ]);\n};\n\n/** @group Pdas */\nexport const findMasterEditionV2Pda = (\n  mint: PublicKey,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n    Buffer.from('edition', 'utf8'),\n  ]);\n};\n\n/** @group Pdas */\nexport const findEditionPda = (\n  mint: PublicKey,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n    Buffer.from('edition', 'utf8'),\n  ]);\n};\n\n/** @group Pdas */\nexport const findEditionMarkerPda = (\n  mint: PublicKey,\n  edition: BigNumber,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n    Buffer.from('edition', 'utf8'),\n    Buffer.from(edition.div(toBigNumber(248)).toString()),\n  ]);\n};\n\n/** @group Pdas */\nexport const findCollectionAuthorityRecordPda = (\n  mint: PublicKey,\n  collectionAuthority: PublicKey,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n    Buffer.from('collection_authority', 'utf8'),\n    collectionAuthority.toBuffer(),\n  ]);\n};\n\n/** @group Pdas */\nexport const findUseAuthorityRecordPda = (\n  mint: PublicKey,\n  useAuthority: PublicKey,\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    mint.toBuffer(),\n    Buffer.from('user', 'utf8'),\n    useAuthority.toBuffer(),\n  ]);\n};\n\n/** @group Pdas */\nexport const findProgramAsBurnerPda = (\n  programId: PublicKey = TokenMetadataProgram.publicKey\n): Pda => {\n  return Pda.find(programId, [\n    Buffer.from('metadata', 'utf8'),\n    programId.toBuffer(),\n    Buffer.from('burn', 'utf8'),\n  ]);\n};\n"],"names":["findMetadataPda","mint","programId","TokenMetadataProgram","publicKey","Pda","find","Buffer","from","toBuffer","findMasterEditionV2Pda","findEditionPda","findEditionMarkerPda","edition","div","toBigNumber","toString","findCollectionAuthorityRecordPda","collectionAuthority","findUseAuthorityRecordPda","useAuthority","findProgramAsBurnerPda"],"mappings":";;;;;AAKA;;AACO,MAAMA,eAAe,GAAG,CAC7BC,IAD6B,EAE7BC,SAAoB,GAAGC,oBAAoB,CAACC,SAFf,KAGrB;EACR,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,CAApB,CAAP,CAAA;AAKD,EATM;AAWP;;AACO,MAAMC,sBAAsB,GAAG,CACpCT,IADoC,EAEpCC,SAAoB,GAAGC,oBAAoB,CAACC,SAFR,KAG5B;AACR,EAAA,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,EAIzBF,MAAM,CAACC,IAAP,CAAY,SAAZ,EAAuB,MAAvB,CAJyB,CAApB,CAAP,CAAA;AAMD,EAVM;AAYP;;AACO,MAAMG,cAAc,GAAG,CAC5BV,IAD4B,EAE5BC,SAAoB,GAAGC,oBAAoB,CAACC,SAFhB,KAGpB;AACR,EAAA,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,EAIzBF,MAAM,CAACC,IAAP,CAAY,SAAZ,EAAuB,MAAvB,CAJyB,CAApB,CAAP,CAAA;AAMD,EAVM;AAYP;;AACaI,MAAAA,oBAAoB,GAAG,CAClCX,IADkC,EAElCY,OAFkC,EAGlCX,SAAoB,GAAGC,oBAAoB,CAACC,SAHV,KAI1B;EACR,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,EAIzBF,MAAM,CAACC,IAAP,CAAY,SAAZ,EAAuB,MAAvB,CAJyB,EAKzBD,MAAM,CAACC,IAAP,CAAYK,OAAO,CAACC,GAAR,CAAYC,WAAW,CAAC,GAAD,CAAvB,EAA8BC,QAA9B,EAAZ,CALyB,CAApB,CAAP,CAAA;AAOD,EAZM;AAcP;;AACaC,MAAAA,gCAAgC,GAAG,CAC9ChB,IAD8C,EAE9CiB,mBAF8C,EAG9ChB,SAAoB,GAAGC,oBAAoB,CAACC,SAHE,KAItC;AACR,EAAA,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,EAIzBF,MAAM,CAACC,IAAP,CAAY,sBAAZ,EAAoC,MAApC,CAJyB,EAKzBU,mBAAmB,CAACT,QAApB,EALyB,CAApB,CAAP,CAAA;AAOD,EAZM;AAcP;;AACaU,MAAAA,yBAAyB,GAAG,CACvClB,IADuC,EAEvCmB,YAFuC,EAGvClB,SAAoB,GAAGC,oBAAoB,CAACC,SAHL,KAI/B;AACR,EAAA,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBR,IAAI,CAACQ,QAAL,EAHyB,EAIzBF,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAJyB,EAKzBY,YAAY,CAACX,QAAb,EALyB,CAApB,CAAP,CAAA;AAOD,EAZM;AAcP;;AACO,MAAMY,sBAAsB,GAAG,CACpCnB,SAAoB,GAAGC,oBAAoB,CAACC,SADR,KAE5B;AACR,EAAA,OAAOC,GAAG,CAACC,IAAJ,CAASJ,SAAT,EAAoB,CACzBK,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,MAAxB,CADyB,EAEzBN,SAAS,CAACO,QAAV,EAFyB,EAGzBF,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAHyB,CAApB,CAAP,CAAA;AAKD;;;;"}