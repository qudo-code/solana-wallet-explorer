{"version":3,"file":"accounts.mjs","sources":["../../../../src/plugins/tokenModule/accounts.ts"],"sourcesContent":["import {\n  Account,\n  AccountParser,\n  getAccountParsingAndAssertingFunction,\n  getAccountParsingFunction,\n} from '@/types';\nimport {\n  RawAccount as SplTokenAccount,\n  AccountLayout as SplTokenAccountLayout,\n  RawMint as SplMintAccount,\n  MintLayout as SplMintAccountLayout,\n} from '@solana/spl-token';\n\nconst mintAccountParser: AccountParser<SplMintAccount> = {\n  name: 'MintAccount',\n  deserialize: (data: Buffer, offset?: number) => {\n    const span = SplMintAccountLayout.getSpan(data, offset);\n    const decoded = SplMintAccountLayout.decode(data, offset);\n    return [decoded, span];\n  },\n};\n\n/** @group Accounts */\nexport type MintAccount = Account<SplMintAccount>;\n\n/** @group Account Helpers */\nexport const parseMintAccount = getAccountParsingFunction(mintAccountParser);\n\n/** @group Account Helpers */\nexport const toMintAccount =\n  getAccountParsingAndAssertingFunction(mintAccountParser);\n\nconst tokenAccountParser: AccountParser<SplTokenAccount> = {\n  name: 'TokenAccount',\n  deserialize: (data: Buffer, offset?: number) => {\n    const span = SplTokenAccountLayout.getSpan(data, offset);\n    const decoded = SplTokenAccountLayout.decode(data, offset);\n    return [decoded, span];\n  },\n};\n\n/** @group Accounts */\nexport type TokenAccount = Account<SplTokenAccount>;\n\n/** @group Account Helpers */\nexport const parseTokenAccount = getAccountParsingFunction(tokenAccountParser);\n\n/** @group Account Helpers */\nexport const toTokenAccount =\n  getAccountParsingAndAssertingFunction(tokenAccountParser);\n"],"names":["mintAccountParser","name","deserialize","data","offset","span","SplMintAccountLayout","getSpan","decoded","decode","parseMintAccount","getAccountParsingFunction","toMintAccount","getAccountParsingAndAssertingFunction","tokenAccountParser","SplTokenAccountLayout","parseTokenAccount","toTokenAccount"],"mappings":";;;AAaA,MAAMA,iBAAgD,GAAG;AACvDC,EAAAA,IAAI,EAAE,aADiD;AAEvDC,EAAAA,WAAW,EAAE,CAACC,IAAD,EAAeC,MAAf,KAAmC;IAC9C,MAAMC,IAAI,GAAGC,UAAoB,CAACC,OAArB,CAA6BJ,IAA7B,EAAmCC,MAAnC,CAAb,CAAA;IACA,MAAMI,OAAO,GAAGF,UAAoB,CAACG,MAArB,CAA4BN,IAA5B,EAAkCC,MAAlC,CAAhB,CAAA;AACA,IAAA,OAAO,CAACI,OAAD,EAAUH,IAAV,CAAP,CAAA;AACD,GAAA;AANsD,CAAzD,CAAA;AASA;;AAGA;MACaK,gBAAgB,GAAGC,yBAAyB,CAACX,iBAAD,EAAlD;AAEP;;MACaY,aAAa,GACxBC,qCAAqC,CAACb,iBAAD,EADhC;AAGP,MAAMc,kBAAkD,GAAG;AACzDb,EAAAA,IAAI,EAAE,cADmD;AAEzDC,EAAAA,WAAW,EAAE,CAACC,IAAD,EAAeC,MAAf,KAAmC;IAC9C,MAAMC,IAAI,GAAGU,aAAqB,CAACR,OAAtB,CAA8BJ,IAA9B,EAAoCC,MAApC,CAAb,CAAA;IACA,MAAMI,OAAO,GAAGO,aAAqB,CAACN,MAAtB,CAA6BN,IAA7B,EAAmCC,MAAnC,CAAhB,CAAA;AACA,IAAA,OAAO,CAACI,OAAD,EAAUH,IAAV,CAAP,CAAA;AACD,GAAA;AANwD,CAA3D,CAAA;AASA;;AAGA;MACaW,iBAAiB,GAAGL,yBAAyB,CAACG,kBAAD,EAAnD;AAEP;;MACaG,cAAc,GACzBJ,qCAAqC,CAACC,kBAAD;;;;"}