!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.HttpHelpers=e():t.HttpHelpers=e()}(self,(()=>(()=>{var t={378:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",c="[object Function]",a="[object Object]",u=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[c]=l["[object Map]"]=l["[object Number]"]=l[a]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),h=e&&!e.nodeType&&e,y=h&&t&&!t.nodeType&&t,v=y&&y.exports===h,g=v&&f.process,b=function(){try{return y&&y.require&&y.require("util").types||g&&g.binding&&g.binding("util")}catch(t){}}(),_=b&&b.isTypedArray;function w(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var j,m,O,T=Array.prototype,A=Function.prototype,P=Object.prototype,E=d["__core-js_shared__"],S=A.toString,L=P.hasOwnProperty,C=(j=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",x=P.toString,I=S.call(Object),z=RegExp("^"+S.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v?d.Buffer:void 0,R=d.Symbol,F=d.Uint8Array,N=(U&&U.allocUnsafe,m=Object.getPrototypeOf,O=Object,function(t){return m(O(t))}),k=Object.create,D=P.propertyIsEnumerable,H=T.splice,M=R?R.toStringTag:void 0,K=function(){try{var t=ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),$=U?U.isBuffer:void 0,B=Math.max,J=Date.now,G=ut(d,"Map"),W=ut(Object,"create"),q=function(){function t(){}return function(e){if(!wt(e))return{};if(k)return k(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function V(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X(t){var e=this.__data__=new Y(t);this.size=e.size}function Z(t,e,n){(void 0!==n&&!dt(t[e],n)||void 0===n&&!(e in t))&&nt(t,e,n)}function tt(t,e,n){var r=t[e];L.call(t,e)&&dt(r,n)&&(void 0!==n||e in t)||nt(t,e,n)}function et(t,e){for(var n=t.length;n--;)if(dt(t[n][0],e))return n;return-1}function nt(t,e,n){"__proto__"==e&&K?K(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}V.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(W){var n=e[t];return n===r?void 0:n}return L.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:L.call(e,t)},V.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&void 0===e?r:e,this},Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(t){var e=this.__data__,n=et(e,t);return!(n<0||(n==e.length-1?e.pop():H.call(e,n,1),--this.size,0))},Y.prototype.get=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]},Y.prototype.has=function(t){return et(this.__data__,t)>-1},Y.prototype.set=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Q.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(G||Y),string:new V}},Q.prototype.delete=function(t){var e=at(this,t).delete(t);return this.size-=e?1:0,e},Q.prototype.get=function(t){return at(this,t).get(t)},Q.prototype.has=function(t){return at(this,t).has(t)},Q.prototype.set=function(t,e){var n=at(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},X.prototype.clear=function(){this.__data__=new Y,this.size=0},X.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},X.prototype.get=function(t){return this.__data__.get(t)},X.prototype.has=function(t){return this.__data__.has(t)},X.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Y){var r=n.__data__;if(!G||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Q(r)}return n.set(t,e),this.size=n.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":M&&M in Object(t)?function(t){var e=L.call(t,M),n=t[M];try{t[M]=void 0;var r=!0}catch(t){}var o=x.call(t);return r&&(e?t[M]=n:delete t[M]),o}(t):function(t){return x.call(t)}(t)}function ot(t){return jt(t)&&rt(t)==i}function it(t,e,n,r,o){t!==e&&function(t,e,n){for(var r=-1,o=Object(t),i=n(t),c=i.length;c--;){var a=i[++r];if(!1===e(o[a],a,o))break}}(e,(function(i,c){if(o||(o=new X),wt(i))!function(t,e,n,r,o,i,c){var u=ft(t,n),s=ft(e,n),l=c.get(s);if(l)Z(t,n,l);else{var f,p,d,h,y,v=i?i(u,s,n+"",t,e,c):void 0,g=void 0===v;if(g){var b=yt(s),_=!b&&gt(s),w=!b&&!_&&mt(s);v=s,b||_||w?yt(u)?v=u:jt(y=u)&&vt(y)?v=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):_?(g=!1,v=function(t,e){return t.slice()}(s)):w?(g=!1,h=new(d=(f=s).buffer).constructor(d.byteLength),new F(h).set(new F(d)),p=h,v=new f.constructor(p,f.byteOffset,f.length)):v=[]:function(t){if(!jt(t)||rt(t)!=a)return!1;var e=N(t);if(null===e)return!0;var n=L.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==I}(s)||ht(s)?(v=u,ht(u)?v=function(t){return function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var a=e[i],u=void 0;void 0===u&&(u=t[a]),o?nt(n,a,u):tt(n,a,u)}return n}(t,Ot(t))}(u):wt(u)&&!bt(u)||(v=function(t){return"function"!=typeof t.constructor||lt(t)?{}:q(N(t))}(s))):g=!1}g&&(c.set(s,v),o(v,s,r,i,c),c.delete(s)),Z(t,n,v)}}(t,e,c,n,it,r,o);else{var u=r?r(ft(t,c),i,c+"",t,e,o):void 0;void 0===u&&(u=i),Z(t,c,u)}}),Ot)}var ct=K?function(t,e){return K(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Pt;function at(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!wt(t)||function(t){return!!C&&C in t}(t))&&(bt(t)?z:u).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function st(t,e){var n=typeof t;return!!(e=null==e?o:e)&&("number"==n||"symbol"!=n&&s.test(t))&&t>-1&&t%1==0&&t<e}function lt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||P)}function ft(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var pt=function(t){var e=0,n=0;return function(){var r=J(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ct);function dt(t,e){return t===e||t!=t&&e!=e}var ht=ot(function(){return arguments}())?ot:function(t){return jt(t)&&L.call(t,"callee")&&!D.call(t,"callee")},yt=Array.isArray;function vt(t){return null!=t&&_t(t.length)&&!bt(t)}var gt=$||function(){return!1};function bt(t){if(!wt(t))return!1;var e=rt(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function _t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var mt=_?function(t){return function(e){return t(e)}}(_):function(t){return jt(t)&&_t(t.length)&&!!l[rt(t)]};function Ot(t){return vt(t)?function(t,e){var n=yt(t),r=!n&&ht(t),o=!n&&!r&&gt(t),i=!n&&!r&&!o&&mt(t),c=n||r||o||i,a=c?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var s in t)!e&&!L.call(t,s)||c&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||st(s,u))||a.push(s);return a}(t,!0):function(t){if(!wt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=lt(t),n=[];for(var r in t)("constructor"!=r||!e&&L.call(t,r))&&n.push(r);return n}(t)}var Tt,At=(Tt=function(t,e,n){it(t,e,n)},function(t,e){return pt(function(t,e,n){return e=B(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=B(r.length-e,0),c=Array(i);++o<i;)c[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(c),w(t,this,a)}}(t,e,Pt),t+"")}((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=Tt.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!wt(n))return!1;var r=typeof e;return!!("number"==r?vt(n)&&st(e,n.length):"string"==r&&e in n)&&dt(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var c=e[n];c&&Tt(t,c,n)}return t})));function Pt(t){return t}t.exports=At},43:function(t,e,n){var r,o;!function(i,c){"use strict";r=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):t)}function a(e,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<e?t:this.methodFactory(i,e,n)}this.log=this.debug}function u(t,n,r){return function(){typeof console!==e&&(a.call(this,n,r),this[t].apply(this,arguments))}}function s(t,e,n){return c(t)||u.apply(this,arguments)}function l(t,n,o){var i,c=this;n=null==n?"WARN":n;var u="loglevel";function l(){var t;if(typeof window!==e&&u){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}}"string"==typeof t?u+=":"+t:"symbol"==typeof t&&(u=void 0),c.name=t,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||s,c.getLevel=function(){return i},c.setLevel=function(n,o){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==o&&function(t){var n=(r[t]||"silent").toUpperCase();if(typeof window!==e&&u){try{return void(window.localStorage[u]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(t){}}}(n),a.call(c,n,t),typeof console===e&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){n=t,l()||c.setLevel(t,!1)},c.resetLevel=function(){c.setLevel(n,!1),function(){if(typeof window!==e&&u){try{return void window.localStorage.removeItem(u)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var f=l();null==f&&(f=n),c.setLevel(f,!1)}var f=new l,p={};f.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=p[t];return e||(e=p[t]=new l(t,f.getLevel(),f.methodFactory)),e};var d=typeof window!==e?window.log:void 0;return f.noConflict=function(){return typeof window!==e&&window.log===f&&(window.log=d),f},f.getLoggers=function(){return p},f.default=f,f},void 0===(o=r.call(e,n,e,t))||(t.exports=o)}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{clearAPIKey:()=>j,clearEmbedHost:()=>b,enableSentryTracing:()=>v,gatewayAuthHeader:()=>f,gatewayEmbedHostHeader:()=>p,generateJsonRPCObject:()=>I,get:()=>S,getAPIKey:()=>m,getEmbedHost:()=>_,patch:()=>C,post:()=>L,promiseRace:()=>z,promiseTimeout:()=>E,remove:()=>x,setAPIKey:()=>w,setEmbedHost:()=>g,setLogLevel:()=>O});var e=n(378),o=n.n(e),i=n(43);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=n.n(i)().getLogger("http-helpers");u.setLevel(i.levels.INFO);let s="torus-default",l="";const f="x-api-key",p="x-embed-host";let d=null;const h=[],y=[];function v(t,e,n){d=t,h.push(...e),y.push(...n)}function g(t){l=t}function b(){l=""}function _(){return l}function w(t){s=t}function j(){s="torus-default"}function m(){return s}function O(t){u.setLevel(t)}async function T(t,e){let n=null;try{n=new URL(t)}catch(t){}if(d&&n&&(h.includes(n.origin)||y.includes(n.pathname))){const n=d.startTransaction({name:t}),r=n.startChild({op:"http"}),o=await fetch(t,e);return r.finish(),n.finish(),o}return fetch(t,e)}function A(){const t={};return s&&(t[f]=s),l&&(t[p]=l),t}function P(t){u.info("Response: ".concat(t.status," ").concat(t.statusText)),u.info("Url: ".concat(t.url))}const E=(t,e)=>{const n=new Promise(((e,n)=>{const r=setTimeout((()=>{clearTimeout(r),n(new Error("Timed out in ".concat(t,"ms")))}),t)}));return Promise.race([e,n])},S=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=a(a({},r.headers),A()));const i=o()(r,e,{method:"GET"}),c=await T(t,i);if(c.ok)return c.json();throw P(c),c},L=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=a(a({},i.headers),A()));const c=o()(i,n,{method:"POST"});return r.isUrlEncodedData?(c.body=e,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(e),E(r.timeout||6e4,T(t,c).then((t=>{if(t.ok)return t.json();throw P(t),t})))},C=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=a(a({},i.headers),A()));const c=o()(i,n,{method:"PATCH"});r.isUrlEncodedData?(c.body=e,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(e);const u=await T(t,c);if(u.ok)return u.json();throw P(u),u},x=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=a(a({},i.headers),A()));const c=o()(i,n,{method:"DELETE"});r.isUrlEncodedData?(c.body=e,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(e);const u=await T(t,c);if(u.ok)return u.json();throw P(u),u},I=(t,e)=>({jsonrpc:"2.0",method:t,id:10,params:e}),z=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;return Promise.race([S(t,e),new Promise(((t,e)=>{setTimeout((()=>{e(new Error("timed out"))}),n)}))])}})(),r})()));
//# sourceMappingURL=httpHelpers.umd.min.js.map